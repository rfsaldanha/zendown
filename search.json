[{"path":"https://rfsaldanha.github.io/zendown/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 zendown authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://rfsaldanha.github.io/zendown/articles/cache_options.html","id":"temporary-cache","dir":"Articles","previous_headings":"","what":"Temporary cache","title":"Cache options and management","text":"default, downloads cached temporary folder linked R session. R session finished (example, restarting R RStudio), cache emptied.","code":""},{"path":"https://rfsaldanha.github.io/zendown/articles/cache_options.html","id":"persistent-cache","dir":"Articles","previous_headings":"","what":"Persistent cache","title":"Cache options and management","text":"persistent cache can useful, specially handle large files. persistent cache, downloaded files available R sessions.","code":""},{"path":"https://rfsaldanha.github.io/zendown/articles/cache_options.html","id":"changing-defaults","dir":"Articles","previous_headings":"","what":"Changing defaults","title":"Cache options and management","text":"can opt always use persistent cache. , need create R environment variable. First, edit .Renviron file usethis::edit_r_environ() end file, add line: , save file restart R. now , cached files persistent system folder.","code":"zendown_cache_type = \"persistent\""},{"path":[]},{"path":"https://rfsaldanha.github.io/zendown/articles/cache_options.html","id":"temporary-cache-1","dir":"Articles","previous_headings":"Where are cache files?","what":"Temporary cache","title":"Cache options and management","text":"temporary cache files stored temporary files folder system. retrieve folder path, can use following command: Remember folder temporary deleted close restart R session.","code":"fs::path_temp(\"zendown\")"},{"path":"https://rfsaldanha.github.io/zendown/articles/cache_options.html","id":"persistent-cache-1","dir":"Articles","previous_headings":"Where are cache files?","what":"Persistent cache","title":"Cache options and management","text":"use persistent option, cache files stored default package cache folder default. retrieve folder path, can use following command:","code":"tools::R_user_dir(\"zendown\", which = \"cache\")"},{"path":"https://rfsaldanha.github.io/zendown/articles/cache_options.html","id":"user-defined-persistent-cache-folder","dir":"Articles","previous_headings":"","what":"User defined persistent cache folder","title":"Cache options and management","text":"also may also want define specific folder used cache, like external drive. , set another environment variable. Edit .Renviron file usethis::edit_r_environ() add following line end: Substitute `C:_dir` cache folder path. Save file restart. now , cache files stored folder.","code":"zendown_cache_dir = C:\\my_dir\\"},{"path":"https://rfsaldanha.github.io/zendown/articles/cache_options.html","id":"cache-management","dir":"Articles","previous_headings":"","what":"Cache management","title":"Cache options and management","text":"large number cached files can easily drawn storage capacity, specially persistent cache. Use cache_report() function track number Zenodo cached deposits, files storage usage. Use delete_mirror() function delete cached Zenodo deposit.","code":""},{"path":"https://rfsaldanha.github.io/zendown/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Raphael Saldanha. Author, maintainer.","code":""},{"path":"https://rfsaldanha.github.io/zendown/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Saldanha R (2024). zendown: Access Files 'Zenodo' Deposits. R package version 0.1.0, https://rfsaldanha.github.io/zendown/.","code":"@Manual{,   title = {zendown: Access Files from 'Zenodo' Deposits},   author = {Raphael Saldanha},   year = {2024},   note = {R package version 0.1.0},   url = {https://rfsaldanha.github.io/zendown/}, }"},{"path":"https://rfsaldanha.github.io/zendown/index.html","id":"zendown","dir":"","previous_headings":"","what":"Access Files from Zenodo Deposits","title":"Access Files from Zenodo Deposits","text":"Access, download locally cache files deposited Zenodo easily.","code":""},{"path":"https://rfsaldanha.github.io/zendown/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Access Files from Zenodo Deposits","text":"can install development version zendown GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"rfsaldanha/zendown\")"},{"path":"https://rfsaldanha.github.io/zendown/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Access Files from Zenodo Deposits","text":"Zenodo deposit contains RDS files examples datasets. First, need find Zenodo deposit code. number appears end Zenodo deposit link. code number also appears Zenodo DOI. Deposition code: 10959197 deposit code desired file name, can just access file zen_file function. function create cache machine accessed files, avoiding re-downloading access file .","code":"library(zendown) https://zenodo.org/records/10959197 my_iris <- zen_file(deposit_id = 10959197, file_name = \"iris.rds\") |>   readRDS()  head(my_iris) #>   Sepal.Length Sepal.Width Petal.Length Petal.Width Species #> 1          5.1         3.5          1.4         0.2  setosa #> 2          4.9         3.0          1.4         0.2  setosa #> 3          4.7         3.2          1.3         0.2  setosa #> 4          4.6         3.1          1.5         0.2  setosa #> 5          5.0         3.6          1.4         0.2  setosa #> 6          5.4         3.9          1.7         0.4  setosa"},{"path":"https://rfsaldanha.github.io/zendown/index.html","id":"cache","dir":"","previous_headings":"","what":"Cache","title":"Access Files from Zenodo Deposits","text":"default, cache stored temporary folder cleaned R session ended. use persistent cache options, check article.","code":""},{"path":"https://rfsaldanha.github.io/zendown/index.html","id":"more-examples","dir":"","previous_headings":"","what":"More examples","title":"Access Files from Zenodo Deposits","text":"","code":"# https://zenodo.org/records/10848 zen_file(10848, \"DOAJ_Soc_Licenses_Correct.csv\") |>   read.csv2() |>   tibble::tibble() |>   head() #> # A tibble: 6 × 12 #>       X DOAJNR Title Title.Alternative Identifier Publisher Language ISSN  EISSN #>   <int>  <int> <chr> <chr>             <chr>      <chr>     <chr>    <chr> <chr> #> 1     1     37 \"Est…  <NA>             http://ww… \"Univers… Spanish… 1405… <NA>  #> 2     2     65 \"Rev… \"Review of Resea… http://rc… \"Expert … English… 1583… 1584… #> 3     3     85 \"Soc…  <NA>             http://ej… \"Firenze… English… 2038… <NA>  #> 4     4    106 \"Jou…  <NA>             http://jf… \"New Pra… English  1945… 1944… #> 5     5    195 \"OÃ±…  <NA>             http://op… \"OÃ±ati … English… 2079… <NA>  #> 6     6    198 \"Soc…  <NA>             http://so… \"Associa… French   1950… <NA>  #> # ℹ 3 more variables: CC.License.Doaj <chr>, CC.License.Checked <chr>, #> #   Wrong.Cat.Doaj <chr> # https://zenodo.org/records/10947952 zen_file(10947952, \"2m_temperature_max.parquet\") |>   arrow::read_parquet() |>   tibble::tibble() |>   head() #> # A tibble: 6 × 4 #>   code_muni date       name                    value #>       <int> <date>     <chr>                   <dbl> #> 1   1100015 2023-01-01 2m_temperature_max_mean  304. #> 2   1100015 2023-01-02 2m_temperature_max_mean  302. #> 3   1100015 2023-01-03 2m_temperature_max_mean  302. #> 4   1100015 2023-01-04 2m_temperature_max_mean  302. #> 5   1100015 2023-01-05 2m_temperature_max_mean  297. #> 6   1100015 2023-01-06 2m_temperature_max_mean  302. # https://zenodo.org/records/10889682 zen_file(10889682, \"total_precipitation_2023-09-01_2023-09-30_day_sum.nc\") |>   terra::rast() |>   terra::plot(1)"},{"path":"https://rfsaldanha.github.io/zendown/index.html","id":"zen4r","dir":"","previous_headings":"","what":"zen4R","title":"Access Files from Zenodo Deposits","text":"explore Zenodo API possibilities problematically store files procedures, check zen4R package.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/cache_report.html","id":null,"dir":"Reference","previous_headings":"","what":"Cache report — cache_report","title":"Cache report — cache_report","text":"Print report console cache statistics","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/cache_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cache report — cache_report","text":"","code":"cache_report(cache_type = NULL, cache_dir = NULL)"},{"path":"https://rfsaldanha.github.io/zendown/reference/cache_report.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cache report — cache_report","text":"cache_type character. Use temporary session temporary folder, persistent persistent cache folder NULL use environment default. Check section Cache Type details. cache_dir character. User specified cache directory persistent cache type.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/cache_report.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cache report — cache_report","text":"return value. function prints report console.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/cache_report.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cache report — cache_report","text":"","code":"mirror_deposit(deposit_id = 10959197) #> /tmp/RtmpJ7Da21/zendown/10959197 cache_report() #>  #> ── Cache report ──────────────────────────────────────────────────────────────── #> • Path: /tmp/RtmpJ7Da21/zendown #> • Cached deposits: 1 #> • Total size: 3.94K #> • Files: 5 #>  #> ── Cached deposits ───────────────────────────────────────────────────────────── #>  #> ── Zenodo id: 10959197 ── #>  #> • Size: 3.94K #> • Files: 5 #> • Creation time: 2024-04-15 14:05:44 #> • Modification time: 2024-04-15 14:05:45 #> • Access time: 2024-04-15 14:05:45"},{"path":"https://rfsaldanha.github.io/zendown/reference/delete_mirror.html","id":null,"dir":"Reference","previous_headings":"","what":"Delete a deposit mirror — delete_mirror","title":"Delete a deposit mirror — delete_mirror","text":"function delete mirrored files stored locally.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/delete_mirror.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Delete a deposit mirror — delete_mirror","text":"","code":"delete_mirror(deposit_id, cache_type = NULL, cache_dir = NULL)"},{"path":"https://rfsaldanha.github.io/zendown/reference/delete_mirror.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Delete a deposit mirror — delete_mirror","text":"deposit_id numeric. Zenodo deposit id. cache_type character. Use temporary session temporary folder, persistent persistent cache folder NULL use environment default. Check section Cache Type details. cache_dir character. User specified cache directory persistent cache type.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/delete_mirror.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Delete a deposit mirror — delete_mirror","text":"return value. function deletes mirrored system.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/delete_mirror.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Delete a deposit mirror — delete_mirror","text":"","code":"# https://zenodo.org/records/10959197 file_path <- zen_file(10959197, \"iris.rds\") print(file_path) #> /tmp/RtmpJ7Da21/zendown/10959197/iris.rds file.exists(file_path) #> [1] TRUE delete_mirror(10959197) #> ℹ The cache of deposit 10959197 was deleted file.exists(file_path) #> [1] FALSE"},{"path":"https://rfsaldanha.github.io/zendown/reference/download_deposit.html","id":null,"dir":"Reference","previous_headings":"","what":"Download files from a Zenodo deposit — download_deposit","title":"Download files from a Zenodo deposit — download_deposit","text":"Download files Zenodo deposit","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/download_deposit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download files from a Zenodo deposit — download_deposit","text":"","code":"download_deposit(list_deposit, file_name = NULL, dest, quiet = FALSE)"},{"path":"https://rfsaldanha.github.io/zendown/reference/download_deposit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download files from a Zenodo deposit — download_deposit","text":"list_deposit data.frame tibble. Obtained list_deposit. file_name character. NULL, files file list. file name specified, file downloaded. dest character. Destination folder. quiet logical. Show download info progress bar.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/download_deposit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download files from a Zenodo deposit — download_deposit","text":"return value. function downloads files specified destination.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/download_deposit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download files from a Zenodo deposit — download_deposit","text":"","code":"res <- list_deposit(deposit_id = 10959197) temp_dir <- tempdir() download_deposit(list_deposit = res, dest = temp_dir, quiet = FALSE) #> # A tibble: 5 × 10 #>   success status_code resumefrom url    destfile error type  modified #>   <lgl>         <int>      <dbl> <chr>  <chr>    <chr> <chr> <dttm>   #> 1 TRUE            200          0 https… /tmp/Rt… NA    appl… NA       #> 2 TRUE            200          0 https… /tmp/Rt… NA    appl… NA       #> 3 TRUE            200          0 https… /tmp/Rt… NA    appl… NA       #> 4 TRUE            200          0 https… /tmp/Rt… NA    appl… NA       #> 5 TRUE            200          0 https… /tmp/Rt… NA    appl… NA       #> # ℹ 2 more variables: time <dbl>, headers <list> file.exists(file.path(temp_dir, \"iris.rds\")) #> [1] TRUE file.exists(file.path(temp_dir, \"mtcars.rds\")) #> [1] TRUE"},{"path":"https://rfsaldanha.github.io/zendown/reference/list_deposit.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a list of files available at a Zenodo deposit — list_deposit","title":"Get a list of files available at a Zenodo deposit — list_deposit","text":"Get list files available Zenodo deposit","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/list_deposit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a list of files available at a Zenodo deposit — list_deposit","text":"","code":"list_deposit(deposit_id)"},{"path":"https://rfsaldanha.github.io/zendown/reference/list_deposit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a list of files available at a Zenodo deposit — list_deposit","text":"deposit_id numeric. Zenodo deposit id.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/list_deposit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a list of files available at a Zenodo deposit — list_deposit","text":"tibble.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/list_deposit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a list of files available at a Zenodo deposit — list_deposit","text":"","code":"# https://zenodo.org/records/10959197 list_deposit(deposit_id = 10959197) #> # A tibble: 5 × 6 #>   id                                   filename filesize checksum self  download #>   <chr>                                <chr>       <dbl> <chr>    <chr> <chr>    #> 1 e09ba3f1-f9b5-44ad-a403-d084f046c96d mtcars.…     1225 994977c… http… https:/… #> 2 1eee5ca9-272c-48e3-9962-ae4c72c1f1d9 ToothGr…      371 365f3f8… http… https:/… #> 3 2873000e-40bc-44f5-ae0f-f6fcdcaff3a5 PlantGr…      325 d185729… http… https:/… #> 4 b751722e-a6a8-47c5-b9b0-6d37afdab932 iris3.r…     1025 7006023… http… https:/… #> 5 21ce7a06-effe-4c40-b8b7-4ed8da3075f2 iris.rds     1091 85dda31… http… https:/…"},{"path":"https://rfsaldanha.github.io/zendown/reference/mirror_deposit.html","id":null,"dir":"Reference","previous_headings":"","what":"Mirror a Zenodo deposit locally — mirror_deposit","title":"Mirror a Zenodo deposit locally — mirror_deposit","text":"Mirror entire Zenodo deposit specific file locally. mirror folder deposit files created cache folder operating system.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/mirror_deposit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mirror a Zenodo deposit locally — mirror_deposit","text":"","code":"mirror_deposit(   deposit_id,   file_name = NULL,   cache_dir = NULL,   cache_type = NULL,   clear_cache = FALSE,   quiet = FALSE )"},{"path":"https://rfsaldanha.github.io/zendown/reference/mirror_deposit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mirror a Zenodo deposit locally — mirror_deposit","text":"deposit_id numeric. Zenodo deposit id. file_name character. NULL, files file list. file name specified, file downloaded. cache_dir character. User specified cache directory persistent cache type. cache_type character. Use temporary session temporary folder, persistent persistent cache folder NULL use environment default. Check section Cache Type details. clear_cache logical. mirror already exists, clear content. quiet logical. Show download info progress bar.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/mirror_deposit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mirror a Zenodo deposit locally — mirror_deposit","text":"string mirror path.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/mirror_deposit.html","id":"cache-type","dir":"Reference","previous_headings":"","what":"Cache type","title":"Mirror a Zenodo deposit locally — mirror_deposit","text":"Zenodo mirror cached locally system folder. folder can temporary, cleared R session ended, persistent across sections reboots. cache_type argument NULL (default) package check first environment variable zendown_cache_type. set, package use value. set, temporary cache folder used default. can set environment variable usethis::edit_r_environ() write bellow persistent cache storage. zendown_cache_type = \"persistent\" saving file, remember restart session. setting, cache persistent stored directory given tools::R_user_dir(\"zendown\", = \"cache\") may also use different folder persistent storage setting zendown_cache_dir environment variable. example: zendown_cache_dir = C:\\my_cache\\ set cache_type argument directly temporary persistent, override environment setting.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/mirror_deposit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mirror a Zenodo deposit locally — mirror_deposit","text":"","code":"# https://zenodo.org/records/10959197 mirror_path <- mirror_deposit(deposit_id = 10959197) file.exists(file.path(mirror_path, \"iris.rds\")) #> [1] TRUE file.exists(file.path(mirror_path, \"mtcars.rds\")) #> [1] TRUE"},{"path":"https://rfsaldanha.github.io/zendown/reference/zen_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Access a Zenodo deposit file — zen_file","title":"Access a Zenodo deposit file — zen_file","text":"Get local path Zenodo deposit file. cached mirror yet, download file deposit mirror cache locally.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/zen_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access a Zenodo deposit file — zen_file","text":"","code":"zen_file(   deposit_id,   file_name,   cache_type = NULL,   cache_dir = NULL,   clear_cache = FALSE,   quiet = FALSE )"},{"path":"https://rfsaldanha.github.io/zendown/reference/zen_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Access a Zenodo deposit file — zen_file","text":"deposit_id numeric. Zenodo deposit id. file_name character. NULL, files file list. file name specified, file downloaded. cache_type character. Use temporary session temporary folder, persistent persistent cache folder NULL use environment default. Check section Cache Type details. cache_dir character. User specified cache directory persistent cache type. clear_cache logical. mirror already exists, clear content. quiet logical. Show download info progress bar.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/zen_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Access a Zenodo deposit file — zen_file","text":"string mirror file path.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/zen_file.html","id":"cache-type","dir":"Reference","previous_headings":"","what":"Cache type","title":"Access a Zenodo deposit file — zen_file","text":"Zenodo mirror cached locally system folder. folder can temporary, cleared R session ended, persistent across sections reboots. cache_type argument NULL (default) package check first environment variable zendown_cache_type. set, package use value. set, temporary cache folder used default. can set environment variable usethis::edit_r_environ() write bellow persistent cache storage. zendown_cache_type = \"persistent\" saving file, remember restart session. setting, cache persistent stored directory given tools::R_user_dir(\"zendown\", = \"cache\") may also use different folder persistent storage setting zendown_cache_dir environment variable. example: zendown_cache_dir = C:\\my_cache\\ set cache_type argument directly temporary persistent, override environment setting.","code":""},{"path":"https://rfsaldanha.github.io/zendown/reference/zen_file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Access a Zenodo deposit file — zen_file","text":"","code":"# https://zenodo.org/records/10959197 zen_file_path <- zen_file(10959197, \"iris.rds\") print(zen_file_path) #> /tmp/RtmpJ7Da21/zendown/10959197/iris.rds file.exists(zen_file_path) #> [1] TRUE"},{"path":"https://rfsaldanha.github.io/zendown/news/index.html","id":"zendown-010","dir":"Changelog","previous_headings":"","what":"zendown 0.1.0","title":"zendown 0.1.0","text":"Files download handled curl functions, enabling parallel download. Add arguments user specified cache directory. New function report cache stats: cache_report()","code":""},{"path":"https://rfsaldanha.github.io/zendown/news/index.html","id":"zendown-002","dir":"Changelog","previous_headings":"","what":"zendown 0.0.2","title":"zendown 0.0.2","text":"Functions fails gracefully Internet available file available cache. Persistent cache folder location following CRAN policies.","code":""},{"path":"https://rfsaldanha.github.io/zendown/news/index.html","id":"zendown-001","dir":"Changelog","previous_headings":"","what":"zendown 0.0.1","title":"zendown 0.0.1","text":"CRAN release: 2024-04-12 First version basic functions.","code":""}]
